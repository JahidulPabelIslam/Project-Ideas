<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:composition template="template.xhtml">

        <ui:define name="title">
            <h:outputText value="Submit/Edit Idea"></h:outputText>
        </ui:define>

        <ui:define name="content">
            <h:form>

                <h:panelGrid columns="3"
                             columnClasses="rightalign,leftalign,leftalign" class="table table-striped table-bordered">

                    <h:outputLabel value="Title:" for="title"/>
                    <h:inputText id="title" label="Title"
                                 required="true"
                                 value="#{ideaBean.idea.title}" class="form-control"/>
                    <h:message for="title" />

                    <h:outputLabel value="Aim and Objectives:" for="aimsObjectives"/>
                    <h:inputText id="aimsObjectives" label="aimsObjectives"
                                 required="true"
                                 value="#{ideaBean.idea.aimsObjectives}" class="form-control"/>
                    <h:message for="aimsObjectives" />

                    <h:outputLabel value="Project Question:" for="question"/>
                    <h:inputText id="question" label="question"
                                 required="true"
                                 value="#{ideaBean.idea.question}" class="form-control"/>
                    <h:message for="question" />

                    <h:outputLabel value="Deliverables:" for="deliverables"/>
                    <h:inputText id="deliverables" label="deliverables"
                                 required="true"
                                 value="#{ideaBean.idea.deliverables}" class="form-control"/>
                    <h:message for="deliverables" />

                    <h:outputLabel rendered="#{personBean.isUserStaff()}" value="Status:" for="status"/>
                    <h:selectOneMenu rendered="#{personBean.isUserStaff()}" id="status" label="status" required="true" value="#{ideaBean.idea.status}" class="form-control">
                        <f:selectItem itemValue="Provisional" itemLabel="Provisional" />
                        <f:selectItem itemValue="Approved" itemLabel="Approved" />
                        <f:selectItem itemValue="Rejected" itemLabel="Rejected"/>
                    </h:selectOneMenu>
                    <h:message rendered="#{personBean.isUserStaff()}" for="status" />

                    <h:outputLabel rendered="#{personBean.isUserStudent()}" value="Apply for Idea:" />
                    <h:selectBooleanCheckbox rendered="#{personBean.isUserStudent()}" id="apply" value="#{ideaBean.apply}" class="form-control"/>
                    <h:message rendered="#{personBean.isUserStudent()}" for="apply" />

<!--                    <h:outputLabel rendered="#{personBean.isTheUserApprovedOrganisation() or personBean.isUserStaff()}" value="Applied Student:" for="appliedStudent"/>
                    <h:selectOneMenu rendered="#{personBean.isTheUserApprovedOrganisation() or personBean.isUserStaff()}" value="#{ideaBean.idea.appliedStudent}" id="appliedStudent" label="appliedStudent" class="form-control">
                        <f:selectItem itemValue="" itemLabel="Select The Student That Will Undertake This:" />
                        <f:selectItems value="#{personBean.personsList}" var="person"
                                       itemLabel="#{person.firstName}"
                                       itemValue="#{person}" />


                    </h:selectOneMenu>
                    <h:message rendered="#{personBean.isTheUserApprovedOrganisation() or personBean.isUserStaff()}" for="appliedStudent" />-->
                </h:panelGrid>

                <h:commandButton rendered="#{ideaBean.idea.id == null}" id="add" value="Add" action="#{ideaBean.addIdea(personBean.theUser)}" class="btn btn-success"/>
                <h:commandButton rendered="#{ideaBean.idea.id != null and (ideaBean.isUserTheSubmitter() or personBean.isUserStaff())}" id="edit" value="Update" action="#{ideaBean.editIdea(ideaBean.idea)}" class="btn btn-primary" />
                <h:commandButton rendered="#{ideaBean.idea.id != null and (ideaBean.isUserTheSubmitter() or personBean.isUserStaff())}" id="delete" value="Delete" action="#{ideaBean.deleteIdea(ideaBean.idea)}" class="btn btn-danger"/>
            </h:form>
        </ui:define>
    </ui:composition>
</html>